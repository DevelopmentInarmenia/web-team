<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Svetafor</title>
</head>
<body>
    <ul>
        <li style="background:rgb(114, 41, 41);"></li>
        <li style="background:rgb(128, 128, 34);"></li>
        <li style="background:rgb(17, 66, 17);"></li>
    </ul>
    


<script>

var li = document.querySelectorAll("ul li");
/* console.log(li); */

var color = [
    "red",
    "yellow",
    "green"
];

/* console.log(color); */


var i = 0;
setInterval(function(){

color.forEach(function(key, value){
 /* console.log(key, li[i].style.background); */
  switch(key){
      case li[i].style.background:
      i = value + 1;
    /*  console.log(i, "important");   */
      break;
      default:
  }

});

if(i === li.length){
      i = 0;
  };

li[i].style.background = color[i];


if(i == 0){
    li[i+2].style.background = "rgb(17, 66, 17)";
}else if(i == 1){
    li[i-1].style.background = "rgb(114, 41, 41)";
}else{
    li[i-1].style.background = "rgb(128, 128, 34)";
};


/*if(i == 0){
        li[1].style.background = "rgb(128, 128, 34)";
        li[2].style.background = "rgb(17, 66, 17)";
      }else if(i == 1){
        li[0].style.background = "rgb(114, 41, 41)";
        li[2].style.background = "rgb(17, 66, 17)";
      }else{
        li[0].style.background = "rgb(114, 41, 41)";
        li[1].style.background = "rgb(128, 128, 34)";
      }; */


}, 3000);






</script>


<style>

body{
    margin:0;
    padding:0;
}
 
 ul{
     display:block;
     float: none;
     padding-left: 0;
     list-style: none;
     margin: auto;
     margin-top: 20px;
     width:250px;
     min-height:300px;
     background:url("https://cdn.pixabay.com/photo/2014/04/03/10/11/traffic-light-310094_960_720.png");
     background-repeat: no-repeat;
     background-size: cover;
     background-position:center;
     padding-top:43px;
     
 }

 ul li{
     border:1px solid black;
     width:77px;
     height:77px;
     margin: auto;
     border-radius:50%;
 }

 ul li:nth-child(2){
     margin-top:22px;
     
 }

 ul li:nth-child(3){
    margin-top:23px;
 }

</style>

</body>
</html>